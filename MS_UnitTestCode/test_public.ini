[command "default"]
ReqType = POST
ReqContentType = application/x-www-form-urlencoded

[command "_start"]
ReqUrl = /api/oauth/token
ReqHeader1 = Authorization: Basic YWI0YzRlMDAtZDhhNi0xMWU0LWE5NmMtMzRmYjUwOWMyMGNhOg==
ReqHeader2 = zauth-request-extra: eyJwdWxzZVNlcnZlciI6ICJodHRwczovL2FwaS1kci5hZHRwdWxzZS5jb20iLCAiZGV2aWNlU2VjcmV0IjoiZDkzZjczOTktMGRlYy00NjUyLTg1NjgtNzc2OGNhNjIwOWU3In0=
ReqBody = grant_type=password&password=%v&username=%v
DoGrep1 = refresh_token.:.([a-z0-9-]+)
SessionVar = Refresh_Tok refresh_token.:.([a-z0-9-]+)
MustCapture = Refresh_Tok
DoCall = refresh_token

[command "refresh_token"]
ReqUrl = /api/oauth/token?grant_type=refresh_token&refresh_token={%1}
ReqHeader1 = Authorization: Basic YWI0YzRlMDAtZDhhNi0xMWU0LWE5NmMtMzRmYjUwOWMyMGNhOg==
DoGrep1 = access_token.:.([a-z0-9-]+)
SessionVar = ACCESS_T access_token.:.([a-z0-9-]+)
MustCapture = ACCESS_T
DoCall = ticket

[command "ticket"]
ReqUrl = /api/v1/account/ticket?asset_id=%v
ReqHeader1 = Authorization: Bearer {%1}
DoGrep1 = ticket.:.([a-z0-9-]+)
DoGrep2 = authorization.:.([a-z0-9-]+)
DoCall = asset_id

[command "asset_id"]
ReqUrl = /api/v1/account/ticket/{%1}/punch
ReqHeader1 = Authorization: Bearer {%2}
DoGrep1 = X-Request-ID: ([a-z0-9-/=]+)
MsecRepeat = 1000
DoCall = landing

[command "landing"]
ReqUrl = /main
DoCall = Session


[command "Session"]
ReqUrl = /GetSession
DoCall = none